% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/agreement.R
\name{agreement}
\alias{agreement}
\title{Compute agreement via profile likelihood methods}
\usage{
agreement(
  RATINGS,
  ITEM_INDS,
  WORKER_INDS = NULL,
  METHOD = c("modified", "profile"),
  MODEL = c("oneway", "twoway"),
  ALPHA_START = NULL,
  BETA_START = NULL,
  PHI_START = NULL,
  CONTROL = list(),
  VERBOSE = FALSE
)
}
\arguments{
\item{RATINGS}{Ratings vector of dimension n. Ordinal data must be coded in \{1, 2, ..., K\}.
Continuous data can take values in (0, 1).}

\item{ITEM_INDS}{Index vector with items allocations. Same dimension as \code{RATINGS}.}

\item{WORKER_INDS}{Index vector with worker allocations. Same dimension as \code{RATINGS}. Ignored when MODEL == "oneway".
Must be integers in \{1, 2, ..., J\}.}

\item{METHOD}{Choose between \code{"modified"} or \code{"profile"}. Default is \code{"modified"}.
\itemize{
\item \code{"modified"}: Uses modified profile likelihood with Barndorff-Nielsen correction
\item \code{"profile"}: Uses standard profile likelihood
}}

\item{MODEL}{Choose between \code{"oneway"} or \code{"twoway"}. Default is \code{"oneway"}.
\itemize{
\item \code{"oneway"}: Item-specific intercepts. Indistiguishable workers.
\item \code{"twoway"}: Item-specific and worker-specific intercepts.
}}

\item{ALPHA_START}{Starting values for item-specific intercepts. Vector of length J. Default is \code{rep(0, J)} where J is the number of items.}

\item{BETA_START}{Starting values for worker-specific intercepts. Vector of length W-1. Default is \code{rep(0, W-1)} where W is the number of workers}

\item{PHI_START}{Starting value for beta precision parameter. Must be positive. Default is \code{agr2prec(0.5)} (precision corresponding to 50\% agreement).}

\item{CONTROL}{Control options for the optimization:
\describe{
\item{\code{SEARCH_RANGE}}{Search range for precision parameter optimization.
The algorithm searches in \verb{[1e-8, PHI_START + SEARCH_RANGE]}.
Must be positive. Default: \code{10}.}
\item{\code{MAX_ITER}}{Maximum number of iterations for precision parameter optimization.
Must be a positive integer. Default: \code{100}.}
\item{\code{PROF_SEARCH_RANGE}}{Search range for profiling out nuisance parameters (item intercepts).
The algorithm searches in \verb{[ALPHA_START[j] - PROF_SEARCH_RANGE, ALPHA_START[j] + PROF_SEARCH_RANGE]}
for each item j. Must be positive. Default: \code{10}.}
\item{\code{PROF_MAX_ITER}}{Maximum number of iterations for profiling optimization.
Must be a positive integer. Default: \code{100}.}
\item{\code{PROF_METHOD}}{Method for profiling optimization. A character string among:
\itemize{
\item \code{"brent"}: Brent's method. Default.
\item \code{"newton_raphson"}: Newton-Raphson method.
}
Note: Newton-Raphson is automatically selected when the average number of ratings
per item cubed is less than the number of items (i.e., when \code{mean(table(ITEM_INDS))^3 < max(ITEM_INDS)}).}
}}

\item{VERBOSE}{Verbose output.}
}
\value{
Returns a list with maximum likelihood estimates and corresponding negative log-likelihood.
}
\description{
Compute agreement via profile likelihood methods
}
